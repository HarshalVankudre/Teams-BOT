# RAG Test Suite - Test Cases
# Format: Each test has a question, expected answer, and evaluation criteria

metadata:
  name: "RÜKO RAG System Tests"
  version: "1.0"
  description: "Semantic evaluation tests for Hybrid RAG system"

test_cases:
  # ===================
  # AGGREGATION TESTS
  # ===================
  - id: "AGG-001"
    category: "aggregation"
    question: "Wie viele Bagger haben wir?"
    expected_answer: "Die Anzahl sollte eine konkrete Zahl sein (z.B. 150+ Bagger)"
    criteria:
      - "Muss eine konkrete Zahl enthalten"
      - "Bezieht sich auf Bagger-Kategorie"
    expected_source: "postgres"

  - id: "AGG-002"
    category: "aggregation"
    question: "Was ist das Durchschnittsgewicht aller Bagger?"
    expected_answer: "Durchschnittsgewicht in kg, sollte realistisch sein (5.000-20.000 kg)"
    criteria:
      - "Muss Gewicht in kg oder Tonnen angeben"
      - "Wert sollte realistisch sein"
    expected_source: "postgres"

  - id: "AGG-003"
    category: "aggregation"
    question: "Stärkster Bagger"
    expected_answer: "Caterpillar 320-07C mit ca. 129 kW"
    criteria:
      - "Muss Maschinenname nennen"
      - "Muss Leistung in kW angeben"
      - "Sollte der tatsächlich stärkste sein (~129 kW)"
    expected_source: "postgres"

  - id: "AGG-004"
    category: "aggregation"
    question: "Schwerster Kettenbagger"
    expected_answer: "Liebherr R 926 Compact Litronic mit ca. 29.300 kg (verifiziert als schwerster Kettenbagger in der Datenbank)"
    criteria:
      - "Muss ein Kettenbagger sein (geraetegruppe enthält 'Kettenbagger')"
      - "Muss Gewicht angeben (ca. 29.000-30.000 kg)"
      - "Liebherr R 926 ist korrekt - dies IST der schwerste"
    expected_source: "postgres"

  # ===================
  # FILTER TESTS
  # ===================
  - id: "FIL-001"
    category: "filter"
    question: "Welche Bagger haben Hammerhydraulik?"
    expected_answer: "Liste von Baggern mit Hammerhydraulik, sollte ~33 Ergebnisse sein"
    criteria:
      - "Muss eine Liste von Maschinen zurückgeben"
      - "Alle gelisteten müssen Bagger sein"
      - "Sollte mehr als 20 Ergebnisse haben"
    expected_source: "postgres"

  - id: "FIL-002"
    category: "filter"
    question: "Zeige alle Caterpillar Maschinen"
    expected_answer: "Liste aller Caterpillar Geräte"
    criteria:
      - "Alle Ergebnisse müssen Hersteller Caterpillar haben"
      - "Sollte verschiedene Gerätetypen enthalten"
    expected_source: "postgres"

  - id: "FIL-003"
    category: "filter"
    question: "Bagger unter 2 Tonnen"
    expected_answer: "Liste von Minibaggern unter 2000 kg"
    criteria:
      - "Alle gelisteten müssen unter 2000 kg sein"
      - "Gewicht sollte angezeigt werden"
    expected_source: "postgres"

  - id: "FIL-004"
    category: "filter"
    question: "Maschinen mit Klimaanlage"
    expected_answer: "Liste von Geräten die Klimaanlage haben"
    criteria:
      - "Muss eine Liste zurückgeben"
      - "Sollte verschiedene Gerätetypen enthalten"
    expected_source: "postgres"

  - id: "FIL-005"
    category: "filter"
    question: "Liebherr Mobilbagger"
    expected_answer: "Liste von Liebherr Mobilbaggern"
    criteria:
      - "Alle müssen Hersteller Liebherr sein"
      - "Alle müssen Mobilbagger sein"
    expected_source: "postgres"

  # ===================
  # LOOKUP TESTS
  # ===================
  - id: "LKP-001"
    category: "lookup"
    question: "Details zum Caterpillar 320-07C"
    expected_answer: "Detaillierte Informationen über den CAT 320-07C"
    criteria:
      - "Muss spezifisches Gerät finden"
      - "Sollte technische Details enthalten (Gewicht, Leistung, etc.)"
    expected_source: "postgres"

  - id: "LKP-002"
    category: "lookup"
    question: "Informationen zur Liebherr A920"
    expected_answer: "Details zum Liebherr A920 Mobilbagger"
    criteria:
      - "Muss Liebherr A920 finden"
      - "Sollte relevante Spezifikationen zeigen"
    expected_source: "postgres"

  # ===================
  # COMPARISON TESTS
  # ===================
  - id: "CMP-001"
    category: "comparison"
    question: "Vergleiche Kettenbagger und Mobilbagger"
    expected_answer: "Vergleich der beiden Baggertypen mit Anzahlen"
    criteria:
      - "Muss beide Typen erwähnen"
      - "Sollte Unterschiede oder Anzahlen nennen"
    expected_source: "postgres"

  # ===================
  # EDGE CASES
  # ===================
  - id: "EDG-001"
    category: "edge_case"
    question: "Bagger mit 500 kW Leistung"
    expected_answer: "Keine Ergebnisse (500 kW ist unrealistisch hoch)"
    criteria:
      - "Sollte keine Ergebnisse finden oder darauf hinweisen"
    expected_source: "postgres"

  - id: "EDG-002"
    category: "edge_case"
    question: "Tesla Bagger"
    expected_answer: "Keine Ergebnisse (Tesla stellt keine Bagger her)"
    criteria:
      - "Sollte keine Ergebnisse finden"
      - "Sollte nicht halluzinieren"
    expected_source: "postgres"
